<view wx:if="{{openid!=''}}">
  <van-tabs swipeable sticky>
    <van-tab title="全部">
      <view class="tab-content">
        <view class='rss-item' wx:if="{{isEmpty}}" bindtap='navTo'>
          <l-card type="avatar" l-class="card" image="../../images/info.png" title="通知">
            <view class="content">你还没有订阅任何源哦，去发现页面探索一下吧 :)
            </view>
          </l-card>
        </view>
        <view class='source-item' wx:for="{{rss_pool}}" wx:for-item="item" wx:for-index="idx" wx:key="all" bindtap='handleRssItemTap' data-article-index='{{idx}}'>
          <view class='rss-item' wx:if="{{!item.readed}}">
            <l-card wx:if="{{item.enclosure}}" type="cover" l-class="card" image="{{item.enclosure}}" title="{{item.title}}">
              <view class="cover-footer">
                <view class="cover-footer-left">
                  <image class="source-icon" src="{{item.favicon}}"></image>
                  <view class="source-info">
                    <span class="source-name">{{item.source}}</span>
                    <span class="source-time">{{item.pubTime}}</span>
                  </view>
                </view>
                <l-tag class='latera' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{item.islatered}}" data-article-index='{{idx}}'>
                  稍后阅读
                </l-tag>
              </view>
            </l-card>
            <l-card wx:else type="avatar" l-class="card" image="{{item.favicon}}" title="{{item.source}}" describe="{{item.pubTime}}">
              <view class="content">{{item.title}}
              </view>
              <l-tag class='laterb' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{item.islatered}}" data-article-index='{{idx}}'>
                稍后阅读
              </l-tag>
            </l-card>
          </view>
          <view wx:else class='rss-item-readed'>
            <l-card wx:if="{{item.enclosure}}" type="cover" l-class="card" l-title-class="readed" image="{{item.enclosure}}" title="{{item.title}}">
              <view class="cover-footer">
                <view class="cover-footer-left">
                  <image class="source-icon" src="{{item.favicon}}"></image>
                  <view class="source-info">
                    <span class="source-name-readed">{{item.source}}</span>
                    <span class="source-time-readed">{{item.pubTime}}</span>
                  </view>
                </view>
                <l-tag class='latera' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{item.islatered}}" data-article-index='{{idx}}'>
                  稍后阅读
                </l-tag>
              </view>
            </l-card>
            <l-card wx:else type="avatar" l-class="card" l-title-class="readed" image="{{item.favicon}}" title="{{item.source}}" describe="{{item.pubTime}}">
              <view class="content">{{item.title}}
              </view>
              <l-tag class='laterb' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{item.islatered}}" data-article-index='{{idx}}'>
                稍后阅读
              </l-tag>
            </l-card>
          </view>
        </view>
      </view>
    </van-tab>


    <van-tab wx:for="{{cates}}" wx:key="cates" wx:for-item="cate" title="{{cate}}" key="{{index}}">
      <view class="tab-content">
        <view class='source-item' wx:for="{{rss_pool}}" wx:for-item="rssItem" wx:for-index="idx" wx:key="pool" bindtap='handleRssItemTap' data-article-index='{{idx}}'>
          <view wx:if="{{cate==rssItem.tag[0]&&!rssItem.readed}}" class='rss-item'>
            <l-card wx:if="{{rssItem.enclosure}}" type="cover" l-class="card" image="{{rssItem.enclosure}}" title="{{rssItem.title}} ">
              <view class="cover-footer">
                <view class="cover-footer-left">
                  <image class="source-icon" src="{{rssItem.favicon}}"></image>
                  <view class="source-info">
                    <span class="source-name">{{rssItem.source}}</span>
                    <span class="source-time">{{rssItem.pubTime}}</span>
                  </view>
                </view>
                <l-tag class='latera' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{rssItem.islatered}}" data-article-index='{{idx}}'>稍后阅读</l-tag>
              </view>
            </l-card>

            <l-card wx:else type="avatar" l-class="card" image="{{rssItem.favicon}}" title="{{rssItem.source}}" describe="{{rssItem.pubTime}}">
              <view class="content">{{rssItem.title}}</view>
              <l-tag class='laterb' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC " slot="more" select="{{rssItem.islatered}}" data-article-index='{{idx}}'>
                稍后阅读
              </l-tag>
            </l-card>
          </view>
          <view wx:elif="{{cate==rssItem.tag[0]&&rssItem.readed}}" class='rss-item-readed'>
            <l-card wx:if="{{rssItem.enclosure}}" type="cover" l-class="card" l-title-class="readed" image="{{rssItem.enclosure}}" title="{{rssItem.title}}">
              <view class="cover-footer">
                <view class="cover-footer-left">
                  <image class="source-icon" src="{{rssItem.favicon}}"></image>
                  <view class="source-info">
                    <span class="source-name-readed">{{rssItem.source}}</span>
                    <span class="source-time-readed">{{rssItem.pubTime}}</span>
                  </view>
                </view>
                <l-tag class='latera' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{rssItem.islatered}}" data-article-index='{{idx}}'>
                  稍后阅读
                </l-tag>
              </view>
            </l-card>
            <l-card wx:else type="avatar" l-class="card" l-title-class="readed" image="{{rssItem.favicon}}" title="{{rssItem.source}}" describe="{{rssItem.pubTime}}">
              <view class="content">{{rssItem.title}}
              </view>
              <l-tag class='laterb' catchtap="onLater" shape="circle" bg-color="#f3f3f3" font-color="#3963BC" slot="more" select="{{rssItem.islatered}}" data-article-index='{{idx}}'>
                稍后阅读
              </l-tag>
            </l-card>
          </view>
        </view>
      </view>
    </van-tab>
  </van-tabs>
</view>

<view wx:else>
  <l-card type="avatar" l-class="card" image="../../images/info.png" title="通知">
    <view class="content">你还没有登陆哦，请先前往「我的」页面登陆 :)
    </view>
  </l-card>
  <l-message />
</view>